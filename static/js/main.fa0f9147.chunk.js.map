{"version":3,"sources":["components/App.js","components/Forms/AddressFinder.js","components/Service/Filters.js","components/Service/Service.js","components/Forms/Proximity.js","container/app-container.js","components/Service/ServiceInfo.js","components/Templates/Footer.js","reducers/index.js","index.js","actions/index.js","components/Service/ServiceContactDetail.js","components/Social/Sharebar.js","components/Service/ServiceCategories.js","components/Service/ServiceDetailDesc.js","components/Service/ServiceDetail.js","components/Map/ServiceMapMarker.js","components/Map/MapResults.js"],"names":["inputchanged","App","_this","Object","_home_travis_build_ServiceInnovationLab_FamilyServiceDirectorySearchinator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_home_travis_build_ServiceInnovationLab_FamilyServiceDirectorySearchinator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_home_travis_build_ServiceInnovationLab_FamilyServiceDirectorySearchinator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","state","showMap","latlng","keyword","resultButton","bind","_home_travis_build_ServiceInnovationLab_FamilyServiceDirectorySearchinator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","resultCountButton","keywordBlur","onKeywordChange","formSubmit","correctLatLng","resetForm","func","wait","immediate","timeout","context","args","arguments","callNow","clearTimeout","setTimeout","apply","props","filters","length","loadFilters","radiusChange","debounce","setState","searchVars","_this2","results","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","className","onClick","itemsLoading","hasSearched","noSearchVars","resultCountButtonText","desc","totalResults","e","target","value","clone","_home_travis_build_ServiceInnovationLab_FamilyServiceDirectorySearchinator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","addressLatLng","loadResults","keyCode","which","callback","radius","setImmediate","preventDefault","undefined","category","address","_this3","_Service_Filters__WEBPACK_IMPORTED_MODULE_14__","onSubmit","type","name","onBlur","onKeyPress","enterPressed","onChange","placeholder","_Forms_AddressFinder__WEBPACK_IMPORTED_MODULE_12__","loading","keys","_Forms_Proximity__WEBPACK_IMPORTED_MODULE_19__","handler","react_router_dom__WEBPACK_IMPORTED_MODULE_8__","render","_ref","history","location","pathname","push","_Map_MapResults__WEBPACK_IMPORTED_MODULE_11__","LatLng","map_results","map","data","index","react_lazyload__WEBPACK_IMPORTED_MODULE_13___default","height","key","_components_Service_Service__WEBPACK_IMPORTED_MODULE_15__","changeCategory","serviceId","FSD_ID","_components_Social_Sharebar__WEBPACK_IMPORTED_MODULE_16__","Component","connect","ownProps","startCategory","filter","actionCreators","AddressFinder","_home_travis_build_ServiceInnovationLab_FamilyServiceDirectorySearchinator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_travis_build_ServiceInnovationLab_FamilyServiceDirectorySearchinator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_travis_build_ServiceInnovationLab_FamilyServiceDirectorySearchinator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","reset","onAddressChange","_home_travis_build_ServiceInnovationLab_FamilyServiceDirectorySearchinator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","onAddressBlur","address_field","document","getElementById","window","Widget","manual_style","on","item","latitude","y","longitude","x","nextProps","react__WEBPACK_IMPORTED_MODULE_6___default","id","React","Filters","categoryChange","event","react_router_dom__WEBPACK_IMPORTED_MODULE_9__","num","encodeURIComponent","_ref2","defaultValue","Service","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","concat","PROVIDER_NAME","DISTANCE","toFixed","_ServiceContactDetail__WEBPACK_IMPORTED_MODULE_9__","phone","PUBLISHED_PHONE_1","email","PUBLISHED_CONTACT_EMAIL_1","hours","PROVIDER_CONTACT_AVAILABILITY","_ServiceDetail__WEBPACK_IMPORTED_MODULE_8__","loadimmediately","Proximity","onRadiusChange","min","max","step","AppCon","react_default","href","components_App","decodeURIComponent","match","params","ServiceInfo","_React$Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","loadService","scrollTo","_this$props","filteredResults","result","Route","Link","i","ServiceContactDetail","ServiceDetail","preview","Sharebar","subject","MapResults","Footer","aria-label","role","displayGovtFooter","src","srcSet","width","alt","defaultState","serviceDetails","mainReducer","action","objectSpread","store","createStore","reducers","applyMiddleware","thunk","HashRouter","Switch","exact","path","component","ReactDOM","es","src_App","Templates_Footer","__webpack_require__","r","__webpack_exports__","d","showFilters","showResults","showService","showServiceDetails","loadingResults","changeCategories","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","geolib__WEBPACK_IMPORTED_MODULE_1__","geolib__WEBPACK_IMPORTED_MODULE_1___default","RESOURCE_ID","process","API_PATH","STATICFIELDS","sql","encodeURI","url","dispatch","axios","get","then","response","records","addressObj","theq","requestBuilder","filteredData","PHYSICAL_ADDRESS","LATITUDE","LONGITUDE","checkLatLng","isInside","geolib","isPointInCircle","distance","getDistance","NEARME","sort","b","sortByDistance","findNearMe","total","bool","obj","iconin","valin","icon","val","serviceDetailsItem","react_icons_lib_fa_envelope_o__WEBPACK_IMPORTED_MODULE_7___default","react_icons_lib_fa_clock_o__WEBPACK_IMPORTED_MODULE_8___default","react_icons_lib_fa_phone__WEBPACK_IMPORTED_MODULE_6___default","react_icons_lib_fa_map_marker__WEBPACK_IMPORTED_MODULE_10___default","website","react_icons_lib_fa_external_link__WEBPACK_IMPORTED_MODULE_9___default","rel","classification","react_icons_lib_fa_folder_open__WEBPACK_IMPORTED_MODULE_11___default","source","record","thisList","locations","serviceLocationsBuilder","serviceDetailsBuilder","listBuilder","mailto","facebook","twitter","description","title","react_icons_lib_fa_envelope_o__WEBPACK_IMPORTED_MODULE_6___default","react_icons_lib_fa_facebook_square__WEBPACK_IMPORTED_MODULE_7___default","react_icons_lib_fa_twitter__WEBPACK_IMPORTED_MODULE_8___default","ServiceCategories","categories","displayServiceDetails","withRouter","ServiceDetailDesc","services","SERVICE_NAME","SERVICE_TARGET_AUDIENCES","DELIVERY_METHODS","SERVICE_REFERRALS","COST_TYPE","COST_DESCRIPTION","SERVICE_DETAIL","recordsLoaded","localcategory","loadServiceDetails","assertThisInitialized","urldetails","refs","myRef","currentCategory","uniqueServices","unique","uniquecategories","forEach","includes","LEVEL_1_CATEGORY","ref","ORGANISATION_PURPOSE","PROVIDER_CLASSIFICATION","PROVIDER_WEBSITE_1","Service_ServiceCategories","Service_ServiceDetailDesc","ServiceMapMarker","position","lat","lng","Marker","Popup","none","center","Map","zoom","TileLayer","attribution","Map_ServiceMapMarker"],"mappings":"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","file":"static/js/main.fa0f9147.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport * as actionCreators from '../actions/index';\nimport MapResults from './Map/MapResults';\nimport AddressFinder from './Forms/AddressFinder';\nimport LazyLoad from 'react-lazyload';\nimport Filters from './Service/Filters';\nimport Service from '../components/Service/Service';\nimport Sharebar from '../components/Social/Sharebar';\nimport '../styles/Nav.css';\nimport '../styles/Form.css';\nimport Proximity from './Forms/Proximity';\n\nlet inputchanged = false;\n\nclass App extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      showMap: false,\n      latlng: [],\n      keyword: ''\n    };\n    this.resultButton = this.resultButton.bind(this);\n    this.resultCountButton = this.resultCountButton.bind(this);\n    this.keywordBlur = this.keywordBlur.bind(this);\n    this.onKeywordChange = this.onKeywordChange.bind(this);\n    this.formSubmit = this.formSubmit.bind(this);\n    this.correctLatLng = this.correctLatLng.bind(this);\n    this.resetForm = this.resetForm.bind(this);\n  }\n\n  debounce(func, wait, immediate) {\n    var timeout;\n    return function() {\n      var context = this, args = arguments;\n      var later = function() {\n        timeout = null;\n        if (!immediate) func.apply(context, args);\n      };\n      var callNow = immediate && !timeout;\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n      if (callNow) func.apply(context, args);\n    };\n  }\n\n  componentWillMount () {\n    if(this.props.filters.length === 0) this.props.loadFilters();\n    this.radiusChange = this.debounce(this.radiusChange,200);\n    this.setState({keyword: this.props.searchVars.keyword});\n  }\n\n  resultButton () {\n    if(this.props.results.length > 0){\n      return <button className=\"btn-toggle\" onClick={() => {\n        this.setState({ showMap: !this.state.showMap}); }\n      }>{this.state.showMap ? 'Show List' : 'Toggle Map'}</button>;\n    }\n  }\n\n  resultCountButton () {\n    if(!this.props.itemsLoading && this.props.hasSearched){\n      return <p className=\"results-desc\">\n        {this.props.noSearchVars && <span>No search parameters supplied</span>}\n        {!this.props.noSearchVars && this.resultCountButtonText()}\n        {!this.props.noSearchVars && this.resultButton()}\n      </p>;\n    }\n  }\n\n  resultCountButtonText (){\n    let desc = 'Found '+this.props.results.length+' ';\n    if(this.props.totalResults && this.props.results.length === 100 && this.props.totalResults*1 > 100){\n      desc += 'of '+this.props.totalResults*1+' ';\n    }\n    desc += 'result'+(this.props.totalResults*1 !== 1 ? 's' : '');\n    return desc;\n  }\n\n  keywordBlur(e){\n    if(inputchanged || e.target.value === ''){\n      const clone = {...this.props.searchVars};\n      clone.keyword = e.target.value;\n      clone.addressLatLng = this.correctLatLng();\n      this.props.loadResults(clone);\n    }\n  }\n\n  onKeywordChange(value){\n    this.setState({keyword: value});\n  }\n\n  enterPressed(e) {\n    inputchanged = true;\n    var code = e.keyCode || e.which;\n    if(code === 13) {\n      inputchanged = false;\n      const clone = {...this.props.searchVars};\n      clone.keyword = (e.target.value === '') ? null : e.target.value;\n      clone.addressLatLng = this.correctLatLng();\n      this.props.loadResults(clone);\n    }\n  }\n\n  radiusChange(value){\n    const clone = {...this.props.searchVars};\n    const callback = this.props.loadResults;\n    clone.radius = value*1;\n    setImmediate(function() {\n      callback(clone);\n    });\n  }\n\n  formSubmit(e) {\n    e.preventDefault();\n    this.setState({latlng: this.props.searchVars.addressLatLng});\n    const clone = {...this.props.searchVars};\n    clone.addressLatLng = this.correctLatLng();\n    clone.keyword = e.target.keyword.value;\n    this.props.loadResults(clone);\n  }\n\n  correctLatLng(){\n    return (this.props.searchVars.addressLatLng === undefined ? this.state.latlng : this.props.searchVars.addressLatLng);\n  }\n\n  resetForm(){\n    this.setState({latlng: {},keyword: ''});\n    this.props.loadResults({\n      category: '',\n      keyword: '',\n      address: '',\n      addressLatLng: {},\n      radius: 50000\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"container-fluid\">\n        <Filters filters={this.props.filters} searchVars={this.props.searchVars} loadResults={this.props.loadResults} />\n        <form className=\"form\" onSubmit={e => this.formSubmit(e)}>\n          <input value={this.state.keyword} type=\"search\" name=\"keyword\" onBlur={this.keywordBlur.bind(this)} onKeyPress={this.enterPressed.bind(this)} onChange={e => this.onKeywordChange(e.target.value)} placeholder=\"Enter topic or organisation\" />\n          <AddressFinder noSearchVars={this.props.noSearchVars} loading={this.props.itemsLoading} loadResults={this.props.loadResults} searchVars={this.props.searchVars} radius={this.props.searchVars.radius}/>\n          {this.props.searchVars.addressLatLng && Object.keys(this.props.searchVars.addressLatLng).length !== 0 &&\n            <Proximity handler={this.radiusChange.bind(this)} radius={this.props.searchVars.radius}/>\n          }\n          <button type=\"submit\">Search</button>\n          {(!this.props.noSearchVars && this.props.hasSearched) && <Route render={({ history,location}) => (<button type=\"button\" onClick={()=> {(location.pathname !== '/' && history.push(''));this.resetForm();}}>Reset form</button>)} />}\n        </form>\n        <div className={'results' + (this.props.itemsLoading ? ' loading' : '')}>\n          {this.resultCountButton()}\n          { !this.props.itemsLoading && this.state.showMap && <MapResults className=\"container-fluid\" LatLng={this.props.searchVars.addressLatLng} map_results={this.props.results} />}\n          { !this.props.itemsLoading && !this.state.showMap && this.props.results.map((data,index)=>\n            <LazyLoad height={280} key={index}>\n              <Service results={data} changeCategory={this.props.changeCategory} searchVars={this.props.searchVars} serviceId={data.FSD_ID} loadResults={this.props.loadResults} />\n            </LazyLoad>)}\n        </div>\n        <Sharebar/>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state,ownProps) {\n  const clone = {...state.searchVars};\n  if(!state.searchVars.category && ownProps.startCategory){\n    /* for some unidentified reason ownProps.startCategory is returning a string */\n    clone.category = (ownProps.startCategory === 'undefined') ? '' : ownProps.startCategory;\n  }\n  return {\n    filters: state.filter,\n    results: state.results,\n    showMap: state.showMap,\n    searchVars: clone,\n    noSearchVars: state.noSearchVars,\n    totalResults: state.totalResults,\n    itemsLoading: state.itemsLoading,\n    hasSearched: state.hasSearched\n  };\n}\n\nexport default connect(mapStateToProps, actionCreators)(App);\n","import React from 'react';\nimport '../../styles/AddressFinder.css';\n\nclass AddressFinder extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      address: this.props.searchVars.address,\n      reset: this.props.noSearchVars\n    };\n    this.onAddressChange = this.onAddressChange.bind(this);\n    this.onAddressBlur = this.onAddressBlur.bind(this);\n  }\n\n  componentWillUpdate() {\n    let address_field = document.getElementById('address_field');\n    if(window.AddressFinder){\n      let widget = new window.AddressFinder.Widget(\n        address_field,\n        'ADDRESSFINDER_DEMO_KEY',\n        'NZ',\n        {manual_style:true}\n      );\n\n      widget.on('result:select', (value, item) => {\n        this.setState({address: value});\n        this.props.loadResults({\n          category: this.props.searchVars.category ? this.props.searchVars.category : '',\n          keyword: this.props.searchVars.keyword ? this.props.searchVars.keyword : '',\n          address: value,\n          addressLatLng: (value)?{latitude: item.y, longitude: item.x}:{},\n          radius: this.props.radius\n        });\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if(!nextProps.loading){\n      if(nextProps.searchVars.address.length === 0){\n        this.setState({address: ''});\n      }else if(nextProps.searchVars.address.length > 0){\n        this.setState({address: nextProps.searchVars.address});\n      }\n    }\n  }\n\n  onAddressChange(value){\n    this.setState({address: value,reset: false});\n  }\n\n  onAddressBlur(value){\n    this.setState({address: value,reset: false});\n    if(!value){\n      this.props.loadResults({\n        category: this.props.searchVars.category ? this.props.searchVars.category : '',\n        keyword: this.props.searchVars.keyword ? this.props.searchVars.keyword : '',\n        address: '',\n        addressLatLng: {},\n        radius: this.props.radius\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"address_finder_container\">\n        <input value={this.state.address} id=\"address_field\" type=\"search\" onBlur={e =>this.onAddressBlur(e.target.value)} onChange={e => {this.onAddressChange(e.target.value);}} name=\"address\" className=\"address-finder-input\" placeholder=\"Enter a Location\" />\n      </div>\n    );\n  }\n}\n\nexport default AddressFinder;\n\n","import React from 'react';\nimport '../../styles/Form.css';\nimport { Route } from 'react-router-dom';\n\nclass Filters extends React.Component {\n\n  constructor() {\n    super();\n\n    this.categoryChange = this.categoryChange.bind(this);\n  }\n\n\n  componentDidMount(){\n    if(this.props.searchVars.category){\n      this.categoryChange(this.props.searchVars.category);\n    }\n  }\n\n\n  handleChange(event) {\n    this.categoryChange(this.props.searchVars.category === event.target.value ? '' : event.target.value);\n  }\n\n  categoryChange(category){\n    const clone = {...this.props.searchVars};\n    clone.category = category;\n    this.props.loadResults(clone);\n  }\n\n  render(){\n    return (\n      <div className={'filters'+(this.props.filters.length === 0 ? ' loading' : '') }>\n        <nav className=\"nav\">\n          {this.props.filters.map((data,index) => {\n            return (<Route key={index} render={({ history}) => (\n              <button className={this.props.searchVars.category === data.name ? 'selected'  : ''} key={data.num}\n                onClick={()=> {\n                  history.push((this.props.searchVars.category === data.name ? '' : '/category/'+encodeURIComponent(data.name)));\n                  this.categoryChange((this.props.searchVars.category === data.name ? '' : data.name));\n                }}>{data.name}</button>)} />\n            );\n          })}\n        </nav>\n        <Route render={({history}) => (\n          <select value={this.props.searchVars.category} onChange={(event)=> {\n            history.push(((this.props.searchVars.category === event.target.value || event.target.value === '') ? '' : '/category/'+encodeURIComponent(event.target.value)));\n            this.categoryChange(this.props.searchVars.category === event.target.value ? '' : event.target.value);\n          }}>\n            <option name=\"filters\" value=\"\" defaultValue>-- Select Category --</option>\n            {this.props.filters.map(data => {\n              return (<option key={data.num} name=\"filters\">{data.name}</option>);\n            })}</select>)} />\n      </div>\n    );\n  }\n}\n\nexport default Filters;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../../styles/Service.css';\nimport ServiceDetail from './ServiceDetail';\nimport ServiceContactDetail from './ServiceContactDetail';\n\nclass Service extends Component {\n\n  render() {\n    return (\n      <div>\n        <div className=\"service\">\n          <div className=\"search-result-hero\">\n            <h2><Link to={`/service/${this.props.results.FSD_ID}`}>{this.props.results.PROVIDER_NAME}</Link></h2>\n            {this.props.results.DISTANCE && <small>{((this.props.results.DISTANCE*1)/1000).toFixed(1)} km</small>}\n            <ServiceContactDetail phone={this.props.results.PUBLISHED_PHONE_1} email={this.props.results.PUBLISHED_CONTACT_EMAIL_1} hours={this.props.results.PROVIDER_CONTACT_AVAILABILITY} />\n          </div>\n          <ServiceDetail results={this.props.results} changeCategory={this.props.changeCategory} searchVars={this.props.searchVars} serviceId={this.props.serviceId} loadimmediately={false} loadResults={this.props.loadResults} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Service;\n","import React from 'react';\nimport '../../styles/Proximity.css';\n\nclass Proximity extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      radius: props.radius\n    };\n    this.onRadiusChange = this.onRadiusChange.bind(this);\n  }\n\n  onRadiusChange(value){\n    this.setState({radius: value});\n    this.props.handler(value);\n  }\n\n  render() {\n    return (\n      <div className=\"proximity\">\n        <div>\n          <div className=\"range\">\n            <input value={this.state.radius} type=\"range\" min=\"25000\" max=\"75000\" step=\"25000\" onChange={e => {this.onRadiusChange(e.target.value);}} />\n          </div>\n          <ul className=\"range-labels\">\n            <li className=\"first\">Within 25km</li>\n            <li className=\"middle\">50km</li>\n            <li className=\"last\">100km</li>\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Proximity;\n\n","import React, { Component } from 'react';\nimport App from '../components/App';\nimport { connect } from 'react-redux';\nimport * as actionCreators from '../actions/index';\n\nclass AppCon extends Component {\n\n  render() {\n    return (\n      <div>\n        <p className=\"container-fluid\">If you are using a mobile device and are looking for family support services near you then you can use Find Whānau Support, the mobile responsive site for the Ministry of Social Development’s Family Services Directory.</p>\n        <p className=\"container-fluid\">If you are a provider or want to use the enhanced functions then please visit <a href=\"https://www.familyservices.govt.nz/directory\">Family Services Directory</a>.</p>\n\n        <App filters={this.props.loadFilters} startCategory={decodeURIComponent(this.props.match.params.category)} />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps=(state)=>{\n  return state;\n};\n\nexport default connect (mapStateToProps, actionCreators)(AppCon);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as actionCreators from '../../actions/index';\nimport MapResults from '../Map/MapResults';\nimport { Route, Link } from 'react-router-dom';\nimport Sharebar from '../Social/Sharebar';\nimport ServiceDetail from './ServiceDetail';\nimport ServiceContactDetail from './ServiceContactDetail';\n\nexport class ServiceInfo extends React.Component {\n\n  componentDidMount() {\n    this.props.loadService({\n      category: this.props.match.params.category\n    },this.props.match.params.name);\n    window.scrollTo(0, 0);\n  }\n\n  render(){\n    /* results is undefined when page loaded directly */\n    const { match: { params: { name } } , result } = this.props;\n    const filteredResults = result.filter(item => item.FSD_ID === name);\n\n    return <div>\n      <div className=\"container-fluid\">\n        <div className={'service-info' + (filteredResults.length === 0 ? ' loading':'')}>\n          <Route render={() => (\n            <Link to={'/'+(this.props.searchVars.category ? 'category/'+encodeURIComponent(decodeURIComponent(this.props.searchVars.category)):'')} onClick={()=> { window.scrollTo(0,0);}} >Go back</Link>\n          )} />\n          <ul className=\"list-stripped\">\n            {filteredResults.map((i, key)  => (\n              <div key={key}>\n                <div className=\"search-result-hero\">\n                  <h2>{i.PROVIDER_NAME}</h2>\n                  <ServiceContactDetail phone={i.PUBLISHED_PHONE_1} email={i.PUBLISHED_CONTACT_EMAIL_1} hours={i.PROVIDER_CONTACT_AVAILABILITY} />\n                </div>\n                <ServiceDetail results={i} changeCategory={this.props.changeCategory} searchVars={this.props.searchVars} serviceId={i.FSD_ID} loadimmediately={true} preview={false} />\n                <Sharebar subject={i.PROVIDER_NAME}/>\n              </div>\n            ))}\n          </ul>\n        </div>\n      </div>\n      <MapResults map_results={filteredResults} />\n    </div>;\n  }\n}\n\n\nexport default connect(\n  state => ({result: state.result,searchVars: state.searchVars}),\n  actionCreators\n)(ServiceInfo);\n","import React from 'react';\nimport '../../styles/Footer.css';\n\n\nclass Footer extends React.Component {\n\n  displayGovtFooter(){\n    /* Possible site configuration setting to be set up if site is hosted on govt.nz domain */\n    return false;\n  }\n\n  render(){\n    return (\n      <div className=\"footer\" aria-label=\"Footer\" role=\"contentinfo\">\n        <div className=\"container\">\n          <div className=\"footer-item\">\n            <p>Data sourced from <a href=\"https://data.govt.nz\">data.govt.nz</a></p>\n            <p>Another alpha from the <a href=\"https://webtoolkit.govt.nz/blog/tag/service-innovation-lab/\">Service Innovation Lab</a></p>\n            <p>Please find the full directory or add your services at <a href=\"//familyservices.govt.nz/directory\">familyservices.govt.nz/directory</a></p>\n          </div>\n          {this.displayGovtFooter() &&\n            <div className=\"footer-push\">\n              <div className=\"footer-icons\">\n                <a href=\"https://www.govt.nz\" className=\"ga-track-logo-footer-aog footer-hm-link\">\n                  <img src=\"footer-logo-govt.png\" srcSet=\"footer-logo-govt@2x.png 2x,footer-logo-govt.png 1x\" width=\"240\" height=\"46\" alt=\"New Zealand Government\" />\n                </a>\n              </div>\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Footer;\n","let defaultState = {\n  filter: [],\n  results: [],\n  result: [],\n  searchVars: {\n    category: '',\n    keyword: '',\n    address: '',\n    addressLatLng: {},\n    radius: 50000\n  },\n  serviceDetails: [],\n  noSearchVars: false,\n  totalResults: 0,\n  itemsLoading: false,\n  hasSearched: false\n};\n\nconst mainReducer = (state = defaultState, action) => {\n  switch (action.type) {\n  case 'LOAD_RESULTS':\n    return {\n      ...state,\n      itemsLoading: action.loading\n    };\n  case 'SHOW_FILTERS':\n    return {\n      ...state,\n      filter: action.filters\n    };\n  case 'SHOW_RESULTS':\n    return {\n      ...state,\n      results: action.results,\n      searchVars: action.searchVars,\n      noSearchVars: action.noSearchVars,\n      totalResults: action.totalResults,\n      hasSearched: true,\n      itemsLoading: false\n    };\n  case 'SHOW_SERVICE':\n    return {\n      ...state,\n      result: action.result,\n      itemsLoading: false\n    };\n  case 'SHOW_SERVICE_DETAILS':\n    return {\n      ...state,\n      serviceDetails: action.serviceDetails\n    };\n  case 'CHANGE_CATEGORIES':\n    return {\n      ...state,\n      searchVars: action.searchVars\n    };\n  default:\n    return {\n      ...state\n    };\n  }\n};\n\nexport default mainReducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport AppCon from './container/app-container';\nimport ServiceInfo from './components/Service/ServiceInfo';\nimport Footer from './components/Templates/Footer';\n// import { createStore, applyMiddleware, compose } from 'redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport reducers from './reducers/index';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\n\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n// const store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\nconst store = createStore(reducers, applyMiddleware(thunk));\n\nclass App extends React.Component {\n  render(){\n    return (\n      <HashRouter>\n        <div>\n          <h1 className=\"container-fluid\">Find Whānau Support - Mobile Site</h1>\n\n          <Switch>\n            <Route exact path=\"/\" component={AppCon} />\n            <Route path=\"/category/:category\" component={AppCon} />\n            <Route path=\"/service/:name\" component={ServiceInfo} />\n          </Switch>\n        </div>\n      </HashRouter>\n    );\n  }\n}\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\nReactDOM.render(<Footer />, document.getElementById('footer'));\n","import axios from 'axios';\nimport geolib from 'geolib';\n\nconst RESOURCE_ID = process.env.REACT_APP_API_RESOURCE_ID;\nconst API_PATH = process.env.REACT_APP_API_PATH;\n\nlet filters = category => category ? `&filters={\"LEVEL_1_CATEGORY\":\"${category}\"}` : '';\nconst STATICFIELDS = 'FSD_ID,PROVIDER_CLASSIFICATION,LONGITUDE,LATITUDE,PROVIDER_NAME,PUBLISHED_CONTACT_EMAIL_1,PUBLISHED_PHONE_1,PROVIDER_CONTACT_AVAILABILITY,ORGANISATION_PURPOSE,PHYSICAL_ADDRESS,PROVIDER_WEBSITE_1';\n\nexport function loadFilters(){\n  let sql = encodeURI(`SELECT \"LEVEL_1_CATEGORY\" as name, COUNT(*) as num FROM \"${RESOURCE_ID}\" GROUP BY name ORDER BY name`);\n  let url = `${API_PATH}datastore_search_sql?sql=${sql}`;\n  return (dispatch) => {\n    return axios.get(url).then((response)=>{\n      dispatch(showFilters(response.data.result.records));\n    });\n  };\n}\n\n/* category, keyword, addressLatLng, radius = 50000 */\nexport function loadResults(searchVars) {\n  let addressObj = Object.keys(searchVars.addressLatLng ? searchVars.addressLatLng : {});\n  if(!searchVars.category && !searchVars.keyword && (!searchVars.addressLatLng || !searchVars.addressLatLng.latitude)){\n    return (dispatch) => {\n      dispatch(showResults([], searchVars, 0, true));\n    };\n  }else{\n    return (dispatch) => {\n      dispatch(loadingResults(true));\n      return axios.get(requestBuilder(searchVars)).then((response)=>{\n        if(addressObj.length === 2 && searchVars.addressLatLng !== undefined) {\n          //greater than 50000 means 100000 of within 50000\n          dispatch(showResults(findNearMe(response.data.result.records, searchVars.addressLatLng, ((searchVars.radius > 50000)?100000:searchVars.radius)), searchVars, response.data.result.total));\n        } else {\n          dispatch(showResults(response.data.result.records, searchVars, response.data.result.total));\n        }\n      });\n    };\n  }\n}\n\nexport function changeCategory(searchVars){\n  return (dispatch) => {\n    dispatch(changeCategories(searchVars));\n  };\n}\n\nexport function loadService(searchVars,serviceId){\n  let url = encodeURI(`${API_PATH}datastore_search?resource_id=${RESOURCE_ID}&fields=${STATICFIELDS}&q=${serviceId}&distinct=true`);\n  if(serviceId){\n    return (dispatch) => {\n      dispatch(loadingResults(true));\n      return axios.get(url).then((response)=>{\n        if(response.data.result.records.length > 0){\n          dispatch(showService(response.data.result.records));\n        }\n      });\n    };\n  }\n}\n\nfunction requestBuilder(searchVars){\n  let theq = (searchVars.keyword && searchVars.keyword.length > 2) ? '&q='+searchVars.keyword : '';\n  let url = encodeURI(`${API_PATH}datastore_search?resource_id=${RESOURCE_ID}&fields=${STATICFIELDS}${theq}&distinct=true${filters(searchVars.category)}`);\n  if(searchVars.addressLatLng.latitude) url += '&limit=5000';\n  return url;\n}\n\nfunction checkLatLng(data) {\n  return data.filter(r => r.PHYSICAL_ADDRESS.match(/\\d+/g) !== null && r.LATITUDE !== '0' && r.LONGITUDE !== '0' && r.LATITUDE !== null && r.LONGITUDE !== null);\n}\n\nfunction findNearMe(data, addressLatLng, radius) {\n  let filteredData = checkLatLng(data);\n  for(let i in filteredData) {\n    let isInside = geolib.isPointInCircle(\n      {latitude: addressLatLng.latitude, longitude: addressLatLng.longitude},\n      {latitude: filteredData[i].LATITUDE, longitude: filteredData[i].LONGITUDE},\n      radius\n    ); // 25km radius\n    let distance = geolib.getDistance(\n      {latitude: addressLatLng.latitude, longitude: addressLatLng.longitude},\n      {latitude: filteredData[i].LATITUDE, longitude: filteredData[i].LONGITUDE}\n    );\n    filteredData[i].NEARME = isInside;\n    filteredData[i].DISTANCE = distance;\n  }\n  return sortByDistance(filteredData.filter(r => r.NEARME === true));\n}\n\nfunction sortByDistance(data){\n  return data.sort(function(a,b){\n    if (a.DISTANCE < b.DISTANCE)\n      return -1;\n    if (a.DISTANCE > b.DISTANCE)\n      return 1;\n    return 0;\n  });\n}\n\n\nexport function showFilters(filters){\n  return {\n    type: 'SHOW_FILTERS',\n    filters\n  };\n}\n\nexport function showResults(results, searchVars, totalResults, noSearchVars = false) {\n  return {\n    type: 'SHOW_RESULTS',\n    results,\n    searchVars,\n    totalResults,\n    noSearchVars\n  };\n}\n\nexport function showService(result) {\n  return {\n    type: 'SHOW_SERVICE',\n    result\n  };\n}\n\nexport function showServiceDetails(serviceDetails) {\n  return {\n    type: 'SHOW_SERVICE_DETAILS',\n    serviceDetails\n  };\n}\n\nexport function loadingResults(bool) {\n  return {\n    type: 'LOAD_RESULTS',\n    loading: bool\n  };\n}\n\nexport function changeCategories(searchVars) {\n  return {\n    type: 'CHANGE_CATEGORIES',\n    searchVars\n  };\n\n}\n\n\n","import React from 'react';\nimport FaPhone from 'react-icons/lib/fa/phone';\nimport FaMail from 'react-icons/lib/fa/envelope-o';\nimport FaClock from 'react-icons/lib/fa/clock-o';\nimport FaExternalLink from 'react-icons/lib/fa/external-link';\nimport FaMapMarker from 'react-icons/lib/fa/map-marker';\nimport FaFolderOpen from 'react-icons/lib/fa/folder-open';\n\n\nclass ServiceContactDetail extends React.Component {\n\n  serviceDetailsItem(obj,iconin,valin){\n    obj.push({\n      icon: iconin,\n      val: valin\n    });\n  }\n\n  serviceDetailsBuilder(){\n    let obj = [];\n    if(this.props.email)          this.serviceDetailsItem(obj,<FaMail />,<a href={`mailto:${this.props.email}`}>{this.props.email}</a>);\n    if(this.props.hours)          this.serviceDetailsItem(obj,<FaClock />,this.props.hours);\n    if(this.props.phone)          this.serviceDetailsItem(obj,<FaPhone />,<a href={`tel:${this.props.phone}`}>{this.props.phone}</a>);\n    return obj;\n  }\n\n  serviceLocationsBuilder(){\n    let obj = [];\n    if(this.props.address) this.serviceDetailsItem(obj,<FaMapMarker />,this.props.address);\n    if(this.props.website) this.serviceDetailsItem(obj,\n      <FaExternalLink />,\n      <a href={`${this.props.website}`} target=\"_blank\" rel=\"noopener noreferrer\">\n      {this.props.website}\n      </a>);\n    if(this.props.classification) this.serviceDetailsItem(obj,<FaFolderOpen />, this.props.classification);\n    return obj;\n  }\n\n  listBuilder(source){\n    let listitems = source.map((record, i) =>\n      <li key={i} className=\"list-icon\">\n        <span>{record.icon}</span>\n        {record.val}\n      </li>\n    );\n    return listitems;\n  }\n\n  render() {\n    let thisList = (this.props.locations) ? this.serviceLocationsBuilder() : this.serviceDetailsBuilder();\n    if(thisList.length === 0) return null;\n    return (\n      <ul className=\"list-stripped\">\n        {this.listBuilder(thisList)}\n      </ul>\n    );\n  }\n}\n\nexport default ServiceContactDetail;\n","import React from 'react';\nimport ShareMail from 'react-icons/lib/fa/envelope-o';\nimport ShareFacebook from 'react-icons/lib/fa/facebook-square';\nimport ShareTwitter from 'react-icons/lib/fa/twitter';\nimport '../../styles/Sharebar.css';\n\nclass Sharebar extends React.Component {\n\n  render(){\n\n    let url = (this.props.url) ? this.props.url : window.location.href;\n    let subject = (this.props.subject) ? this.props.subject : 'Whānau%20Services%20in%20your%20area';\n    let description = (this.props.description) ? this.props.description : subject;\n\n\n    let mailto = 'mailto:?subject='+subject+'&body='+url;\n    let facebook = 'https://www.facebook.com/sharer/sharer.php?u='+url;\n    let twitter = 'https://twitter.com/home?status='+description+':%20'+url;\n\n    return (\n      <div className=\"sharebar\" aria-label=\"Sharebar\">\n        <div className=\"container\">\n          <p>Share via: </p>\n          <ul className=\"sharebar-share\">\n            <li><a href={mailto} title=\"Share by email\"><ShareMail /> Email</a></li>\n            <li><a href={facebook} title=\"Share via Facebook\"><ShareFacebook /> Facebook</a></li>\n            <li><a href={twitter} title=\"Share on twitter\"><ShareTwitter /> Twitter</a></li>\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Sharebar;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport {withRouter} from 'react-router';\n\nclass ServiceCategories extends React.Component {\n\n  render() {\n    return (\n      <div className=\"service-categories\">\n        <small><b>Service categories: </b></small>\n        <small>\n          <ul className=\"list-stripped\">\n            {this.props.categories.map((data,index) => <Route key={index} render={() => (\n              <li className={data === decodeURIComponent(this.props.category) ? 'selected'  : ''}>\n                <a href={`/service/${this.props.serviceId}`} onClick={(e)=> {\n                  e.preventDefault();\n                  this.props.displayServiceDetails(data);\n                }} >{data}</a>\n              </li>)} />\n            )}\n          </ul>\n        </small>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(ServiceCategories);\n","import React, { Component } from 'react';\nimport '../../styles/ServiceDetail.css';\n\nclass ServiceDetailDesc extends Component {\n\n  render() {\n    return (\n      <div className=\"service-detail\">\n        {(this.props.services.length > 0) && this.props.services.map((data,index)=>\n          <div key={index}>\n            <h3>{data.SERVICE_NAME}</h3>\n            <ul className=\"list-stripped\">\n              {data.SERVICE_TARGET_AUDIENCES && <li><b>Target Audience:</b> {data.SERVICE_TARGET_AUDIENCES}</li>}\n              {data.DELIVERY_METHODS && <li><b>Delivery Methods:</b> {data.DELIVERY_METHODS}</li>}\n              {data.SERVICE_REFERRALS && <li><b>Service Referrals:</b> {data.SERVICE_REFERRALS}</li>}\n              <li><b>Cost:</b>{data.COST_TYPE && <span> {data.COST_TYPE}. </span>}\n                {data.COST_DESCRIPTION && <span>{data.COST_DESCRIPTION}</span>}\n              </li>\n            </ul>\n            {(data.SERVICE_NAME !== data.SERVICE_DETAIL) && <p>{data.SERVICE_DETAIL}</p>}\n          </div>\n        )}\n        {(this.props.services.length === 0) && <h4>No further information</h4>}\n      </div>\n    );\n  }\n}\n\nexport default ServiceDetailDesc;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport '../../styles/ServiceDetail.css';\nimport ServiceCategories from './ServiceCategories';\nimport ServiceDetailDesc from './ServiceDetailDesc';\nimport ServiceContactDetail from './ServiceContactDetail';\n\nclass ServiceDetail extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      services: [],\n      categories: [],\n      records: [],\n      recordsLoaded: false,\n      category: '',\n      localcategory: '',\n      loading: false\n    };\n    this.loadServiceDetails = this.loadServiceDetails.bind(this);\n    this.displayServiceDetails = this.displayServiceDetails.bind(this);\n  }\n\n  filters(serviceId){\n    return serviceId ? `&filters={\"FSD_ID\":\"${serviceId}\"}` : '';\n  }\n\n  loadServiceDetails(serviceId){\n    if(!this.state.recordsLoaded){\n      this.setState({loading: true, category: this.props.searchVars.category, localcategory: this.props.searchVars.category});\n      const FIELDS = '_id,LEVEL_1_CATEGORY,SERVICE_NAME,SERVICE_TARGET_AUDIENCES,SERVICE_DETAIL,DELIVERY_METHODS,COST_TYPE,COST_DESCRIPTION,SERVICE_REFERRALS';\n      let urldetails = encodeURI(`${process.env.REACT_APP_API_PATH}datastore_search?resource_id=${process.env.REACT_APP_API_RESOURCE_ID}&fields=${FIELDS}${this.filters(serviceId)}`);\n      return axios.get(urldetails).then((response)=>{\n        if (this.refs.myRef) this.setState({records: response.data.result.records, recordsLoaded: true});\n        this.displayServiceDetails(this.props.searchVars.category);\n      });\n    }\n  }\n\n  displayServiceDetails(category){\n    let currentCategory = category;\n    if(this.state.records.length > 0){\n      let uniqueServices = [],unique = {},uniquecategories = [];\n      this.state.records.forEach(function(item) {\n        if(!uniquecategories.includes(item.LEVEL_1_CATEGORY)){\n          uniquecategories.push(item.LEVEL_1_CATEGORY);\n        }\n        if(!currentCategory)  currentCategory = uniquecategories[0];\n        if(item.LEVEL_1_CATEGORY === currentCategory)  uniqueServices.push(item);\n        unique[item.SERVICE_NAME] = item;\n      });\n      //const clone = {...this.props.searchVars};\n      //clone.category = currentCategory;\n      //this.props.changeCategory(clone);\n      this.setState({services:uniqueServices, loading: false, categories :uniquecategories, localcategory: currentCategory});\n    }\n    return false;\n  }\n\n  componentDidMount () {\n    if(this.props.serviceId) this.loadServiceDetails(this.props.serviceId);\n  }\n\n  render() {\n    return (\n      <div className=\"service-details\" ref=\"myRef\">\n        {this.props.results.ORGANISATION_PURPOSE && <div><p>{this.props.results.ORGANISATION_PURPOSE}</p></div>}\n        <ServiceContactDetail locations={true} classification={this.props.results.PROVIDER_CLASSIFICATION} address={this.props.results.PHYSICAL_ADDRESS} website={this.props.results.PROVIDER_WEBSITE_1} />\n        <div className={(this.props.itemsLoading ? ' loading' : '')}>\n          {this.props.loadimmediately && <ServiceCategories displayServiceDetails={this.displayServiceDetails} category={this.state.localcategory} categories={this.state.categories} serviceId={this.props.results.FSD_ID} />}\n          {this.props.loadimmediately && <ServiceDetailDesc services={this.state.services} />}\n        </div>\n        {!this.props.loadimmediately && <Link className=\"more-detail\" title=\"more detail\" to={`/service/${this.props.results.FSD_ID}`}>more details...</Link>}\n      </div>\n    );\n\n  }\n}\n\nexport default ServiceDetail;\n","import React from 'react';\nimport { Marker, Popup } from 'react-leaflet';\n\nconst ServiceMapMarker = ( props ) => {\n  let position = {lat: props.record.LATITUDE*1, lng: props.record.LONGITUDE*1};\n  return (\n    <div>\n      {props.record.LATITUDE && props.record.LONGITUDE &&\n        <Marker position={position}>\n          <Popup>\n            <span>\n              <h5>{props.record.PROVIDER_NAME}</h5>\n              <h6>{props.record.SERVICE_NAME}</h6>\n              <p>{props.record.ORGANISATION_PURPOSE}</p>\n              <p>{props.record.PHYSICAL_ADDRESS}</p>\n            </span>\n          </Popup>\n        </Marker>\n      }\n    </div>\n  );\n};\n\nexport default ServiceMapMarker;\n","import React, { Component } from 'react';\nimport ServiceMapMarker from './ServiceMapMarker';\nimport {  Map, TileLayer } from 'react-leaflet';\n\nclass MapResults extends Component {\n\n  checkLatLng() {\n    return Object.keys(this.props.LatLng ? this.props.LatLng : {none: 'none'});\n  }\n\n\n  render() {\n    // roughly the centre of aotearoa\n    let center = (this.props.map_results.length !== 1) ? {lat:-41.0,lng: 174.0} : {lat:this.props.map_results[0].LATITUDE*1,lng: this.props.map_results[0].LONGITUDE*1};\n\n    return (\n      <Map center={center} zoom={this.props.map_results.length !== 1 ? 5 : 12}>\n        <TileLayer\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\n        />\n\n        {this.props.map_results.map((record, i) =>\n          <ServiceMapMarker key={'marker'+i} record={record} />\n        )};\n\n      </Map>\n    );\n  }\n}\nexport default MapResults;\n"],"sourceRoot":""}